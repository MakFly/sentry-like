services:
    _defaults:
        autowire: true
        autoconfigure: true

    App\:
        resource: '../src/'
        exclude:
            - '../src/Kernel.php'

    App\Controller\:
        resource: '../src/Controller/'
        tags: ['controller.service_arguments']

    # Payment Gateway Interface binding
    App\Gateway\Payment\PaymentGatewayInterface:
        alias: App\Gateway\Payment\StripeGateway

    # Database Connection as singleton (shared state for mocks)
    App\Repository\Mock\DatabaseConnection:
        shared: true
