# ============================================
# ErrorWatch Monitoring Server Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# Environment
NODE_ENV=development
PORT=3333
LOG_LEVEL=debug

# URLs
BETTER_AUTH_URL=http://localhost:3333
DASHBOARD_URL=http://localhost:4000

# ============================================
# Database (PostgreSQL)
# ============================================
# Docker compose defaults to non-standard host ports to avoid conflicts with local Sentry/DB.
DATABASE_URL=postgresql://errorwatch:errorwatch_dev_password@localhost:55432/errorwatch
DATABASE_POOL_SIZE=20
DATABASE_SSL=false

# ============================================
# Redis (Rate Limiting & Queue)
# ============================================
REDIS_URL=redis://localhost:56379

# ============================================
# Source Maps Storage
# ============================================
SOURCEMAPS_PATH=/data/sourcemaps

# ============================================
# Authentication
# ============================================

# Admin API Key (for admin endpoints)
# Generate with: node -e "console.log('ew_admin_' + require('crypto').randomBytes(32).toString('base64url'))"
ADMIN_API_KEY=

# API key hashing (optional but recommended)
API_KEY_HASH_SECRET=

# Subscription bypass (comma-separated emails, optional)
SUBSCRIPTION_BYPASS_EMAILS=

# OAuth Providers (optional - leave empty to disable)
# GitHub: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ============================================
# Email (Resend)
# ============================================
# Get your API key at: https://resend.com/api-keys
RESEND_API_KEY=
EMAIL_FROM=ErrorWatch <alerts@errorwatch.io>

# ============================================
# Billing (Stripe)
# ============================================
# Get your keys at: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Stripe Price IDs for subscription plans
STRIPE_PRICE_PRO=
STRIPE_PRICE_TEAM=
STRIPE_PRICE_ENTERPRISE=
